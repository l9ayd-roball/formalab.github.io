<!doctype html>
<html lang="es">

<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>Portal de Profesores — Aalii</title>
    <meta name="description" content="Portal profesional para profesores: Classroom, Moodle, Incidencias. Creado por Aalii." />
    <style>
        /* Reset / base */
        
         :root {
            --accent: #0f6cff;
            --muted: #6b7280;
            --bg: #f7fafc;
            --card: #ffffff;
            --success: #10b981
        }
        
        * {
            box-sizing: border-box
        }
        
        body {
            font-family: Inter, ui-sans-serif, system-ui, Segoe UI, Roboto, 'Helvetica Neue', Arial;
            margin: 0;
            background: var(--bg);
            color: #111
        }
        
        header {
            background: linear-gradient(90deg, #07203c, var(--accent));
            color: white;
            padding: 18px 24px
        }
        
        .container {
            max-width: 1100px;
            margin: 24px auto;
            padding: 0 16px
        }
        
        .nav {
            display: flex;
            align-items: center;
            gap: 18px
        }
        
        .brand {
            font-weight: 700;
            font-size: 1.15rem
        }
        
        nav a {
            color: rgba(255, 255, 255, 0.9);
            text-decoration: none;
            font-weight: 600
        }
        /* layout */
        
        .grid {
            display: grid;
            grid-template-columns: 280px 1fr;
            gap: 20px
        }
        
        aside {
            background: var(--card);
            border-radius: 12px;
            padding: 16px;
            box-shadow: 0 6px 18px rgba(15, 23, 42, 0.06)
        }
        
        main {
            min-height: 60vh
        }
        
        .card {
            background: var(--card);
            border-radius: 12px;
            padding: 18px;
            margin-bottom: 16px;
            box-shadow: 0 6px 18px rgba(15, 23, 42, 0.04)
        }
        /* sidebar */
        
        .profile {
            display: flex;
            gap: 12px;
            align-items: center
        }
        
        .avatar {
            width: 56px;
            height: 56px;
            border-radius: 8px;
            background: linear-gradient(135deg, #c7e0ff, #e9f0ff);
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 700
        }
        
        .menu {
            margin-top: 16px;
            display: flex;
            flex-direction: column;
            gap: 8px
        }
        
        .menu button {
            background: transparent;
            border: 0;
            padding: 10px 12px;
            text-align: left;
            border-radius: 8px;
            font-weight: 600;
            color: #111;
            cursor: pointer
        }
        
        .menu button.active {
            background: #f0f7ff;
            color: var(--accent)
        }
        /* dashboard */
        
        .row {
            display: flex;
            gap: 12px;
            align-items: center
        }
        
        .stat {
            flex: 1;
            padding: 14px;
            border-radius: 10px;
            background: linear-gradient(180deg, rgba(15, 108, 255, 0.06), rgba(15, 108, 255, 0.02));
        }
        
        .stat h3 {
            margin: 0;
            font-size: 1.1rem
        }
        
        .stat p {
            margin: 6px 0 0;
            color: var(--muted)
        }
        /* classroom */
        
        .class-list {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
            gap: 12px
        }
        
        .class-item {
            padding: 12px;
            border-radius: 10px;
            border: 1px solid #eef2ff
        }
        
        .class-item h4 {
            margin: 0
        }
        
        .btn {
            display: inline-block;
            padding: 8px 12px;
            border-radius: 8px;
            border: 0;
            background: var(--accent);
            color: white;
            font-weight: 700;
            cursor: pointer
        }
        
        .outline {
            background: transparent;
            border: 1.5px solid #e6eefc;
            color: var(--accent)
        }
        /* forms */
        
        label {
            display: block;
            margin-bottom: 6px;
            font-weight: 600
        }
        
        input[type="text"],
        select,
        textarea {
            width: 100%;
            padding: 10px;
            border-radius: 8px;
            border: 1px solid #e6e9ee
        }
        
        textarea {
            min-height: 120px
        }
        /* modal */
        
        .modal {
            position: fixed;
            inset: 0;
            display: flex;
            align-items: center;
            justify-content: center;
            background: rgba(2, 6, 23, 0.4);
            visibility: hidden;
            opacity: 0;
            transition: all .18s
        }
        
        .modal.open {
            visibility: visible;
            opacity: 1
        }
        
        .modal .dialog {
            width: 520px;
            max-width: calc(100% - 32px);
            background: var(--card);
            padding: 20px;
            border-radius: 12px
        }
        
        footer {
            color: var(--muted);
            text-align: center;
            padding: 20px
        }
        /* responsive */
        
        @media (max-width:880px) {
            .grid {
                grid-template-columns: 1fr
            }
            .nav {
                flex-wrap: wrap
            }
            .avatar {
                width: 44px;
                height: 44px
            }
        }
    </style>
</head>

<body>
    <header>
        <div class="container nav">
            <div class="brand">Aalii · Portal de Profesores</div>
            <nav style="margin-left:auto;display:flex;gap:12px;align-items:center">
                <a href="index.html">Portal</a>
                <a href="https://edu.google.com/intl/ALL_ca/workspace-for-education/products/classroom">Classroom</a>
                <a href="module.html">Moodle</a>
                <a href="incprf.html">Incidencias</a>
                <button id="logoutBtn" class="btn outline" style="padding:8px 10px">Cerrar sesión</button>
            </nav>
        </div>
    </header>

    <div class="container grid" role="main">
        <aside aria-label="Menú lateral">
            <div class="profile">
                <div class="avatar" aria-hidden="true">AP</div>
                <div>
                    <div style="font-weight:800">Aalii</div>
                    <div style="font-size:0.9rem;color:var(--muted)">Profesor — Colegio Ejemplo</div>
                </div>
            </div>

            <div class="menu" role="navigation" aria-label="Secciones">
                <button class="active" data-section="dashboard">Resumen</button>
                <button data-section="classroom">Classroom</button>
                <button data-section="modules">Moodle</button>
                <button data-section="incidencias">Incidencias</button>
                <button data-section="settings">Ajustes</button>
            </div>

            <div style="margin-top:18px;font-size:0.9rem;color:var(--muted)">
                Versión 1.0 • Seguro y accesible
            </div>
        </aside>

        <main>
            <section id="dashboard" class="card" data-panel>
                <h2>Resumen</h2>
                <div class="row" style="margin-top:14px">
                    <div class="stat">
                        <h3>12</h3>
                        <p>Clases activas</p>
                    </div>
                    <div class="stat">
                        <h3>240</h3>
                        <p>Estudiantes</p>
                    </div>
                    <div class="stat">
                        <h3>3</h3>
                        <p>Incidencias sin resolver</p>
                    </div>
                </div>
            </section>

            <section id="classroom" class="card" data-panel hidden>
                <h2>Classroom</h2>
                <p style="color:var(--muted);margin-top:6px">Accede a tus aulas, crea tareas y comparte recursos.</p>
                <div style="display:flex;justify-content:space-between;align-items:center;margin-top:12px">
                    <div style="display:flex;gap:8px">
                        <input id="searchClass" type="text" placeholder="Buscar aula, curso o código" />
                        <button id="newClassBtn" class="btn">+ Nueva aula</button>
                    </div>
                    <div aria-hidden="true">Última sincronización: <strong>Hoy</strong></div>
                </div>

                <div class="class-list" style="margin-top:12px">
                    <article class="class-item" tabindex="0">
                        <h4>1º ESO — Matemáticas</h4>
                        <p style="margin:6px 0;color:var(--muted)">Código: MATH-101</p>
                        <div style="display:flex;gap:8px;margin-top:8px">
                            <button class="btn outline">Acceder</button>
                            <button class="btn">Tareas</button>
                        </div>
                    </article>

                    <article class="class-item" tabindex="0">
                        <h4>2º Bach — Física</h4>
                        <p style="margin:6px 0;color:var(--muted)">Código: PHYS-202</p>
                        <div style="display:flex;gap:8px;margin-top:8px">
                            <button class="btn outline">Acceder</button>
                            <button class="btn">Tareas</button>
                        </div>
                    </article>

                    <!-- more items... -->
                </div>
            </section>

            <section id="modules" class="card" data-panel hidden>
                <h2>Moodle</h2>
                <p style="color:var(--muted);margin-top:6px">Organiza contenidos por temas y unidades.</p>
                <div style="margin-top:12px">
                    <label for="moduleSelect">Seleccionar módulo</label>
                    <select id="moduleSelect">
            <option value="unidad1">Unidad 1 — Álgebra</option>
            <option value="unidad2">Unidad 2 — Geometría</option>
          </select>

                    <div style="margin-top:12px">
                        <h3>Recursos</h3>
                        <ul id="resourcesList">
                            <li>Ficha de repaso — Álgebra (PDF)</li>
                            <li>Vídeo: Resolución de ecuaciones</li>
                        </ul>
                    </div>
                </div>
            </section>

            <section id="incidencias" class="card" data-panel hidden>
                <h2>Incidencias</h2>
                <p style="color:var(--muted);margin-top:6px">Reporte y seguimiento de incidencias (alumno, aula, plataforma).</p>

                <div style="display:flex;gap:12px;align-items:flex-start;margin-top:12px">
                    <div style="flex:1">
                        <form id="incidenceForm">
                            <label for="type">Tipo</label>
                            <select id="type" required>
                <option value="tecnico">Técnico</option>
                <option value="conducta">Conducta</option>
                <option value="otro">Otro</option>
              </select>

                            <label for="desc">Descripción</label>
                            <textarea id="desc" placeholder="Describe la incidencia" required></textarea>

                            <label for="classForInc">Aula (opcional)</label>
                            <input id="classForInc" type="text" placeholder="Ej: MATH-101" />

                            <div style="margin-top:10px;display:flex;gap:8px">
                                <button type="submit" class="btn">Enviar incidencia</button>
                                <button type="button" id="clearInc" class="btn outline">Limpiar</button>
                            </div>
                        </form>
                    </div>

                    <div style="width:320px">
                        <h4>Incidencias recientes</h4>
                        <ul id="incList">
                            <li>12/10/2025 — Problema con subida de notas — Técnico — Pendiente</li>
                            <li>02/10/2025 — Comportamiento en clase — Conducta — Resuelto</li>
                        </ul>
                    </div>
                </div>
            </section>

            <section id="settings" class="card" data-panel hidden>
                <h2>Ajustes</h2>
                <label for="displayName">Nombre a mostrar</label>
                <input id="displayName" type="text" value="Aalii" />
                <div style="margin-top:12px">
                    <button id="saveSettings" class="btn">Guardar cambios</button>
                </div>
            </section>

        </main>
    </div>

    <footer>
        © <span id="year"></span> Aalii — Portal para Profesores
    </footer>

    <!-- Modal: new class -->
    <div id="modal" class="modal" role="dialog" aria-modal="true" aria-hidden="true">
        <div class="dialog">
            <h3>Crear nueva aula</h3>
            <form id="newClassForm">
                <label for="className">Nombre del aula</label>
                <input id="className" type="text" required />
                <label for="classCode">Código</label>
                <input id="classCode" type="text" required />
                <div style="margin-top:12px;display:flex;gap:8px">
                    <button class="btn" type="submit">Crear aula</button>
                    <button class="btn outline" type="button" id="closeModal">Cancelar</button>
                </div>
            </form>
        </div>
    </div>

    <script>
        // --- Asumimos "Java" como Javascript para web (frontend). Si realmente quieres Java backend, dímelo y lo adaptamos.
        // Navegación de paneles
        document.getElementById('year').textContent = new Date().getFullYear();

        const menuButtons = document.querySelectorAll('.menu button');
        const panels = document.querySelectorAll('[data-panel]');

        function showPanel(id) {
            panels.forEach(p => {
                p.hidden = p.id !== id
            });
            menuButtons.forEach(b => b.classList.toggle('active', b.dataset.section === id));
            // Update focus for accessibility
            const active = document.getElementById(id);
            if (active) active.querySelector('h2') ? .focus ? .();
        }

        menuButtons.forEach(btn => btn.addEventListener('click', () => showPanel(btn.dataset.section)));

        // Modal: nueva aula
        const modal = document.getElementById('modal');
        const newClassBtn = document.getElementById('newClassBtn');
        const closeModal = document.getElementById('closeModal');

        newClassBtn.addEventListener('click', () => {
            modal.classList.add('open');
            modal.setAttribute('aria-hidden', 'false');
        });
        closeModal.addEventListener('click', () => {
            modal.classList.remove('open');
            modal.setAttribute('aria-hidden', 'true');
        });

        document.getElementById('newClassForm').addEventListener('submit', (e) => {
            e.preventDefault();
            const name = document.getElementById('className').value.trim();
            const code = document.getElementById('classCode').value.trim();
            if (!name || !code) return alert('Rellena los campos');
            // Aquí llamarías a tu API backend para crear el aula. Ejemplo (fetch):
            // fetch('/api/classes', {method:'POST', headers:{'Content-Type':'application/json'}, body:JSON.stringify({name,code})})
            //   .then(r=>r.json()).then(()=> location.reload())
            // Por ahora añadimos a la lista de forma local:
            const container = document.querySelector('.class-list');
            const art = document.createElement('article');
            art.className = 'class-item';
            art.tabIndex = 0;
            art.innerHTML = `<h4>${name}</h4><p style="margin:6px 0;color:var(--muted)">Código: ${code}</p><div style="display:flex;gap:8px;margin-top:8px"><button class="btn outline">Acceder</button><button class="btn">Tareas</button></div>`;
            container.prepend(art);
            modal.classList.remove('open');
            modal.setAttribute('aria-hidden', 'true');
            document.getElementById('newClassForm').reset();
        });

        // Incidencias: envío básico
        document.getElementById('incidenceForm').addEventListener('submit', (e) => {
            e.preventDefault();
            const type = document.getElementById('type').value;
            const desc = document.getElementById('desc').value.trim();
            const classCode = document.getElementById('classForInc').value.trim();
            if (!desc) return alert('Describe la incidencia');
            // POST to backend: fetch('/api/incidencias', ...)
            const list = document.getElementById('incList');
            const date = new Date().toLocaleDateString();
            const li = document.createElement('li');
            li.textContent = `${date} — ${desc.slice(0,60)} — ${type} — Pendiente`;
            list.prepend(li);
            document.getElementById('incidenceForm').reset();
            alert('Incidencia enviada (simulada). Integra un backend para almacenarla permanentemente.');
        });

        document.getElementById('clearInc').addEventListener('click', () => document.getElementById('incidenceForm').reset());

        // Logout (simulación)
        document.getElementById('logoutBtn').addEventListener('click', () => alert('Cierre de sesión simulado. Implementa backend para terminar sesión.'));

        // Accessibility: keyboard for modal
        window.addEventListener('keydown', (e) => {
            if (e.key === 'Escape' && modal.classList.contains('open')) {
                modal.classList.remove('open');
                modal.setAttribute('aria-hidden', 'true');
            }
        });

        // Inicializar panel
        showPanel('dashboard');

        // TODOs y sugerencias:
        // - Añadir autenticación (OAuth / SAML) en el backend
        // - Conectar a API REST para Classroom, Moodle e incidencias
        // - Encriptar datos y usar HTTPS y CORS apropiado
        // - Añadir roles (director, profesor, administrador)
    </script>
</body>

</html>